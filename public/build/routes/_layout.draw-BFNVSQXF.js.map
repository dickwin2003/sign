{
  "version": 3,
  "sources": ["../../../app/routes/_layout.draw.tsx"],
  "sourcesContent": ["// REMIX HMR BEGIN\nif (!window.$RefreshReg$ || !window.$RefreshSig$ || !window.$RefreshRuntime$) {\n  console.warn('remix:hmr: React Fast Refresh only works when the Remix compiler is running in development mode.');\n} else {\n  var prevRefreshReg = window.$RefreshReg$;\n  var prevRefreshSig = window.$RefreshSig$;\n  window.$RefreshReg$ = (type, id) => {\n    window.$RefreshRuntime$.register(type, \"\\\"app\\\\\\\\routes\\\\\\\\_layout.draw.tsx\\\"\" + id);\n  }\n  window.$RefreshSig$ = window.$RefreshRuntime$.createSignatureFunctionForTransform;\n}\nvar _s = $RefreshSig$();\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\n  import.meta.hot = __hmr__.createHotContext(\n  //@ts-expect-error\n  \"app\\\\routes\\\\_layout.draw.tsx\");\n  import.meta.hot.lastModified = \"1732330280595.543\";\n}\n// REMIX HMR END\n\nimport { json, redirect } from \"@remix-run/node\";\nimport { Form, useLoaderData } from \"@remix-run/react\";\n\n// \u751F\u6210\u968F\u673A\u7B7E\u53F7\nexport async function loader({\n  request\n}) {\n  const url = new URL(request.url);\n  const existingSignNumber = url.searchParams.get(\"signNumber\");\n\n  // \u5982\u679C\u5DF2\u7ECF\u6709\u7B7E\u53F7\uFF0C\u4F7F\u7528\u73B0\u6709\u7684\n  if (existingSignNumber) {\n    return json({\n      signNumber: parseInt(existingSignNumber, 10)\n    });\n  }\n\n  // \u5426\u5219\u751F\u6210\u65B0\u7684\u7B7E\u53F7 (1-100)\n  const signNumber = Math.floor(Math.random() * 100) + 1;\n  return json({\n    signNumber\n  });\n}\n\n// \u5904\u7406\u8868\u5355\u63D0\u4EA4\nexport async function action({\n  request\n}) {\n  const formData = await request.formData();\n\n  // \u5982\u679C\u662F\u4ECE\u9996\u9875\u6765\u7684\u6C42\u7B7E\u8BF7\u6C42\uFF08\u6CA1\u6709signNumber\u548Cintent\uFF09\n  const signNumber = formData.get(\"signNumber\");\n  const intent = formData.get(\"intent\");\n  if (!signNumber && !intent) {\n    // \u751F\u6210\u65B0\u7684\u7B7E\u53F7\n    const newSignNumber = Math.floor(Math.random() * 100) + 1;\n    return redirect(`/draw?signNumber=${newSignNumber}`);\n  }\n\n  // \u5904\u7406\u5176\u4ED6\u610F\u56FE\n  if (intent === \"divine\") {\n    return redirect(`/divine?signNumber=${signNumber}`);\n  } else if (intent === \"result\") {\n    return redirect(`/result?signNumber=${signNumber}`);\n  }\n\n  // \u5982\u679C\u6CA1\u6709\u6709\u6548\u7684 intent\uFF0C\u8FD4\u56DE\u5230\u9996\u9875\n  return redirect(\"/\");\n}\nexport default function Draw() {\n  _s();\n  const {\n    signNumber\n  } = useLoaderData();\n  return <div className=\"min-h-[calc(100vh-6rem)] flex flex-col justify-between bg-amber-50/30 py-3\">\r\n      {/* \u7B7E\u53F7\u663E\u793A */}\r\n      <div className=\"text-center py-6\">\r\n        <div className=\"bg-gradient-to-b from-yellow-50 to-amber-100/70 rounded-lg border-2 border-yellow-800/30 px-4 py-6 mx-2 inline-block\">\r\n          <div className=\"mb-3\">\r\n            <i className=\"fas fa-scroll text-yellow-800/90 text-3xl\"></i>\r\n          </div>\r\n          <h2 className=\"text-xl font-bold text-yellow-900 mb-2\">\u7B2C {signNumber} \u7B7E</h2>\r\n          <p className=\"text-yellow-900/80 text-xs\">\u4ED9\u7B7E\u5DF2\u5B9A\uFF0C\u662F\u5426\u9700\u8981\u6295\u63B7\u5723\u676F\u786E\u8BA4\uFF1F</p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* \u6309\u94AE\u533A\u57DF */}\r\n      <div className=\"px-4 space-y-4\">\r\n        <Form method=\"post\">\r\n          <input type=\"hidden\" name=\"signNumber\" value={signNumber} />\r\n          <input type=\"hidden\" name=\"intent\" value=\"divine\" />\r\n          <button type=\"submit\" className=\"w-full py-3 px-4 text-yellow-50 text-base font-medium bg-gradient-to-r from-yellow-800 to-yellow-700 rounded-lg shadow-md transition-all duration-300 hover:from-yellow-700 hover:to-yellow-600 hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-yellow-700 focus:ring-offset-2 focus:ring-offset-yellow-50\">\r\n            <i className=\"fas fa-hands-praying mr-2\"></i>\r\n            \u6295\u63B7\u5723\u676F\r\n          </button>\r\n        </Form>\r\n\r\n        <Form method=\"post\">\r\n          <input type=\"hidden\" name=\"signNumber\" value={signNumber} />\r\n          <input type=\"hidden\" name=\"intent\" value=\"result\" />\r\n          <button type=\"submit\" className=\"w-full py-3 px-4 text-yellow-900 text-base font-medium bg-gradient-to-r from-amber-200 to-yellow-200 rounded-lg shadow-md transition-all duration-300 hover:from-amber-300 hover:to-yellow-300 hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-yellow-700 focus:ring-offset-2 focus:ring-offset-yellow-50 border border-yellow-900/20\">\r\n            <i className=\"fas fa-book-open mr-2\"></i>\r\n            \u7ACB\u5373\u89E3\u7B7E\r\n          </button>\r\n        </Form>\r\n      </div>\r\n\r\n      {/* \u8BF4\u660E\u6587\u5B57 */}\r\n      <div className=\"px-4 py-6\">\r\n        <div className=\"bg-white/60 rounded-lg p-3 border border-yellow-900/10\">\r\n          <p className=\"text-yellow-900/80 text-xs leading-5\">\r\n            <i className=\"fas fa-info-circle mr-1 text-yellow-700\"></i>\r\n            \u6295\u63B7\u5723\u676F\u53EF\u83B7\u5F97\u795E\u660E\u52A0\u6301\uFF0C\u89E3\u7B7E\u66F4\u51C6\u786E\u3002\u76F4\u63A5\u89E3\u7B7E\u5219\u4E0D\u542B\u795E\u660E\u6307\u793A\u3002\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>;\n}\n_s(Draw, \"CsYgdCazccZnNbay7v4l5VFNiB4=\", false, function () {\n  return [useLoaderData];\n});\n_c = Draw;\nvar _c;\n$RefreshReg$(_c, \"Draw\");\n\nwindow.$RefreshReg$ = prevRefreshReg;\nwindow.$RefreshSig$ = prevRefreshSig;"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;AAqBA,kBAA+B;AA2DnB;AA/EZ,IAAI,CAAC,OAAO,gBAAgB,CAAC,OAAO,gBAAgB,CAAC,OAAO,kBAAkB;AAC5E,UAAQ,KAAK,kGAAkG;AACjH,OAAO;AACD,mBAAiB,OAAO;AACxB,mBAAiB,OAAO;AAC5B,SAAO,eAAe,CAAC,MAAM,OAAO;AAClC,WAAO,iBAAiB,SAAS,MAAM,wCAA0C,EAAE;AAAA,EACrF;AACA,SAAO,eAAe,OAAO,iBAAiB;AAChD;AANM;AACA;AAMN,IAAI,KAAK,aAAa;AAEtB,IAAI,aAAa;AACf,cAAY,MAAc;AAAA;AAAA,IAE1B;AAAA,EAA+B;AAC/B,cAAY,IAAI,eAAe;AACjC;AAoDe,SAAR,OAAwB;AAC7B,KAAG;AACH,QAAM;AAAA,IACJ;AAAA,EACF,IAAI,cAAc;AAClB,SAAO,mDAAC,SAAI,WAAU,8EAElB;AAAA,uDAAC,SAAI,WAAU,oBACb,6DAAC,SAAI,WAAU,wHACb;AAAA,yDAAC,SAAI,WAAU,QACb,6DAAC,OAAE,WAAU,+CAAb;AAAA;AAAA;AAAA;AAAA,aAAyD,KAD3D;AAAA;AAAA;AAAA;AAAA,aAEA;AAAA,MACA,mDAAC,QAAG,WAAU,0CAAyC;AAAA;AAAA,QAAG;AAAA,QAAW;AAAA,WAArE;AAAA;AAAA;AAAA;AAAA,aAAuE;AAAA,MACvE,mDAAC,OAAE,WAAU,8BAA6B,gHAA1C;AAAA;AAAA;AAAA;AAAA,aAA0D;AAAA,SAL5D;AAAA;AAAA;AAAA;AAAA,WAMA,KAPF;AAAA;AAAA;AAAA;AAAA,WAQA;AAAA,IAGA,mDAAC,SAAI,WAAU,kBACb;AAAA,yDAAC,QAAK,QAAO,QACX;AAAA,2DAAC,WAAM,MAAK,UAAS,MAAK,cAAa,OAAO,cAA9C;AAAA;AAAA;AAAA;AAAA,eAA0D;AAAA,QAC1D,mDAAC,WAAM,MAAK,UAAS,MAAK,UAAS,OAAM,YAAzC;AAAA;AAAA;AAAA;AAAA,eAAkD;AAAA,QAClD,mDAAC,YAAO,MAAK,UAAS,WAAU,yTAC9B;AAAA,6DAAC,OAAE,WAAU,+BAAb;AAAA;AAAA;AAAA;AAAA,iBAAyC;AAAA,UAAI;AAAA,aAD/C;AAAA;AAAA;AAAA;AAAA,eAGA;AAAA,WANF;AAAA;AAAA;AAAA;AAAA,aAOA;AAAA,MAEA,mDAAC,QAAK,QAAO,QACX;AAAA,2DAAC,WAAM,MAAK,UAAS,MAAK,cAAa,OAAO,cAA9C;AAAA;AAAA;AAAA;AAAA,eAA0D;AAAA,QAC1D,mDAAC,WAAM,MAAK,UAAS,MAAK,UAAS,OAAM,YAAzC;AAAA;AAAA;AAAA;AAAA,eAAkD;AAAA,QAClD,mDAAC,YAAO,MAAK,UAAS,WAAU,oVAC9B;AAAA,6DAAC,OAAE,WAAU,2BAAb;AAAA;AAAA;AAAA;AAAA,iBAAqC;AAAA,UAAI;AAAA,aAD3C;AAAA;AAAA;AAAA;AAAA,eAGA;AAAA,WANF;AAAA;AAAA;AAAA;AAAA,aAOA;AAAA,SAjBF;AAAA;AAAA;AAAA;AAAA,WAkBA;AAAA,IAGA,mDAAC,SAAI,WAAU,aACb,6DAAC,SAAI,WAAU,0DACb,6DAAC,OAAE,WAAU,wCACX;AAAA,yDAAC,OAAE,WAAU,6CAAb;AAAA;AAAA;AAAA;AAAA,aAAuD;AAAA,MAAI;AAAA,SAD7D;AAAA;AAAA;AAAA;AAAA,WAGA,KAJF;AAAA;AAAA;AAAA;AAAA,WAKA,KANF;AAAA;AAAA;AAAA;AAAA,WAOA;AAAA,OAzCG;AAAA;AAAA;AAAA;AAAA,SA0CL;AACJ;AACA,GAAG,MAAM,gCAAgC,OAAO,WAAY;AAC1D,SAAO,CAAC,aAAa;AACvB,CAAC;AACD,KAAK;AACL,IAAI;AACJ,aAAa,IAAI,MAAM;AAEvB,OAAO,eAAe;AACtB,OAAO,eAAe;",
  "names": []
}
